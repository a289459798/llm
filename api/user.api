syntax = "v1"

type LoginRequest {
    Code string `json:"code"`
}

type InfoRequest {
}

type InfoResponse {
    Token string `json:"token"`
    Amount uint32 `json:"amount"`
    Uid uint32 `json:"uid"`
}

type Task {
    Title string `json:"title"`
    Status bool `json:"status"`
    Total int `json:"amount"`
    CompleteNumber int `json:"completeNumber"`
    Type string `json:"type"`
    Amount int `json:"amount"`
}

type TaskResponse {
    Content string `json:"content"`
    List []Task `json:"list"`
}

@server(
    group: user
)
service tools {
    @handler login
    post /users/login (LoginRequest) returns (InfoResponse)
}

@server(
    jwt: Auth
    group: user
)
service tools {
    @handler userInfo
    get /users (InfoRequest) returns (InfoResponse)
}

@server(
    jwt: Auth
    group: user/task
)
service tools {
    @handler taskList
    get /users/tasks (InfoRequest) returns (TaskResponse)
}