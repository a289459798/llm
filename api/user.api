syntax = "v1"

type LoginRequest {
    Code string `json:"code"`
}

type InfoRequest {
}

type InfoResponse {
    Token string `json:"token"`
    Amount uint `json:"amount"`
}

@server(
    group: user
)
service tools {
    @handler login
    get /users/login (LoginRequest) returns (InfoResponse)
}

@server(
    middleware: Auth
    group: user
)
service tools {
    @handler userInfo
    get /users/:id (InfoRequest) returns (InfoResponse)
}