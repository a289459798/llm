syntax = "v1"

type WeChatCallbackResponse {

}
type WechatValidateRequest {
    AppKey string `path:"appkey"`
    Signature string `form:"signature,optional"`
    Timestamp string `form:"timestamp,optional"`
    Nonce     string `form:"nonce,optional"`
    Echostr   string `form:"echostr,optional"`
}

@server(
    group: wechat
)
service tools {
    @handler validate
    get /wechat/event/:appkey(WechatValidateRequest)  returns (WeChatCallbackResponse)

    @handler event
    post /wechat/event/:appkey(WechatValidateRequest)  returns (WeChatCallbackResponse)

    @handler subscribeCall
    post /wechat/callback/subscribe  returns (WeChatCallbackResponse)
}